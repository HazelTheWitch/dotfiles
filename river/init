riverctl map normal Super Q spawn alacritty
riverctl map normal Super C close

# Change focus with arrow keys
riverctl map normal Super Right focus-view right
riverctl map normal Super Left focus-view left
riverctl map normal Super Up focus-view up
riverctl map normal Super Down focus-view down

# Move windows with arrow keys
riverctl map normal Super+Shift Right swap right
riverctl map normal Super+Shift Left swap left
riverctl map normal Super+Shift Up swap up
riverctl map normal Super+Shift Down swap down

# Change focused output
riverctl map normal Super Period focus-output next
riverctl map normal Super Comma focus-output previous

# Move windows between outputs
riverctl map normal Super+Shift Period send-to-output next
riverctl map normal Super+Shift Comma send-to-output previous

# Runner
riverctl map normal Super R spawn "rofi -show drun"

# Tags
for i in $(seq 0 9)
do 
    tags=$((1 << $i))
    key=$((($i + 1) % 10))

    # Focus Tags
    riverctl map normal Super $key set-focused-tags $tags
    
    # Move window to tag
    riverctl map normal Super+Shift $key set-view-tags $tags

    # Toggle tag for window
    riverctl map normal Super+Shift+Control $key toggle-view-tags $tags
done

# Set keyboard repeat rate
riverctl set-repeat 50 300

# Use liatile
riverctl default-layout liatile
riverctl spawn liatile

# Set up colors
riverctl border-color-focused 0xf1a7be
riverctl border-color-unfocused 0xd996ab
riverctl border-color-urgent 0xe6576f
riverctl background-color 0x33252e
riverctl border-width 1

# Screenshots
riverctl map normal Super Print spawn 'grim -g "$(slurp)" - | wl-copy'

# Launch background processes
riverctl spawn waybar
riverctl spawn wired
riverctl spawn kanshi

# Fix environment
systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP=river
systemctl --user restart xdg-desktop-portal

# Set gtk theme
gsettings set org.gnome.desktop.interface gtk-theme {{ gtk_theme }}

# Remove mouse accel
riverctl input "*" accel-profile none

{% if outputs %}
{% for output in outputs %}
{% if output.scale != 1 %}    
riverctl spawn "wlr-randr --output '{{ output.output }}' --scale {{ output.scale }}"
{% endif %}
{% endfor %}
{% endif %}
